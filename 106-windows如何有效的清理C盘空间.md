---
title: Windows如何有效的清理C盘空间
date: 2021-02-02 01:15:06
tags:
	- Windows
	- 清理垃圾
categories:
	- Windows
cover:
	https://gitee.com/jasonM4A1/pictureHost/raw/master/img/20210202011708.jpg
---

C盘快满了怎么办?

有个小技巧可以让你轻松获得几十G空间

点击查看-> 选项 -> 文件夹选项 -> 查看， 去掉“ 隐藏受保护的操作系统文件(推荐)” 前面的勾，选择“显示隐藏的文件，文件夹和驱动”，C 盘下面会出现三个文件**hiberfil.sys, pagefile.sys** 还有**swapfile.sys**

![](https://gitee.com/jasonM4A1/pictureHost/raw/master/img/20210202011849.png)

好家伙， pagefile.sys 和 hiberfil.sys也不小啊，一个16G, 一个13G

![](https://gitee.com/jasonM4A1/pictureHost/raw/master/img/20210202011912.png)

这两个文件是干啥的呀？可以删掉么？

**No.3**

**Paging file（分页文件）**

Pagefile.sys 通常叫做paging file （分页文件）， 它是磁盘上的一个文件，默认放在C 盘根目录下面C:\pagefile.sys, 一般是隐藏文件我们看不到它，当我们显示隐藏文件的话就能在C盘下面看到它。

我们都知道计算机里有物理内存和磁盘（手机也是一样）。一般内存要比磁盘小的多，比如我的电脑，内存是16G， 而磁盘空间有好几T. 内存和磁盘都可以用来存储数据，内存上的数据在电脑掉电之后就会丢失，但是**内存的存储速度比磁盘快很多**，所以很多文件的缓存会存在内存里增加访问速度。比如当我们使用firefox 的时候，firefox的程序文件会先从磁盘读到内存里。计算机会使用内存里的数据，而不是每次都从磁盘里反复读文件。

但是内存比较小，当内存快满了的时候，电脑就会将一部分数据从内存放回到磁盘上，放到paging file 里面，我们称其为**虚拟内存**。虽然这样下次程序读这部分数据的时候需要先从磁盘上读，速度会慢一些，但是这会使程序不至于因为内存空间不够而崩溃。

Windows 在选择将内存里文件放到磁盘上时，通常会选择不太使用的那部分文件。比如如果你将一个程序最小化，很长时间不用它，那么它的数据就会从内存移到磁盘上。当你将程序最大化的时候，你会发现可能会花些时间，并且你的磁盘上的灯会一直闪烁说明在读取数据。

如果你的内存足够大，那么paging file 不太被使用到，如果你发现你的电脑在打开比较的的程序时，速度变慢，或者磁盘一直闪烁，那么很有可能电脑在使用paging file，也意味着你可以多加些内存。

所以，如果C盘空间不够，pagingfile.sys 可以删么？

理论上如果内存很大，是可以删的，但是不排除打开某些大的程序时候，由于内存不够导致的程序崩溃，因为删除了它就没法将暂时不用的数据放到paging file 上。

**比起删除pagingfile 来增加磁盘空间，更推荐将pagingfile.sys 移到别的磁盘上。**

如何将pagingfile.sys 从C 盘移到D 盘呢？

我的电脑 右键属性，然后高级系统设置 -> 系统属性 -> 高级 -> 设置(性能)

![](https://gitee.com/jasonM4A1/pictureHost/raw/master/img/20210202011946.png)

打开性能选项，更改虚拟内存。默认情况下是自动管理所有的分页文件大小

![](https://gitee.com/jasonM4A1/pictureHost/raw/master/img/20210202012002.png)

我们可以将“自动管理所有驱动器的分页文件大小”前面的勾去掉，手动管理paging file 的大小。点击C盘，选择“无分页文件”，选择D 盘 -> 自定义大小，可根据推荐大小填写。重启之后更改才能生效。

![](https://gitee.com/jasonM4A1/pictureHost/raw/master/img/20210202012021.png)

**休眠文件Hiberfil.sys**

Hiberfil.sys 是系统的休眠文件。这里有两个概念，一个是**睡眠（sleep）**，一个**是休眠（hibernate）**

睡眠指的是，电脑进入了低耗状态，工作内容保存在内存中，恢复时只需1~2 秒就可以恢复原状

休眠指的是，电脑将内存中的数据写入到了硬盘， 即hiberfil.sys文件中，然后关闭系统，下次启动开机时，将保持的数据从硬盘写回内存，恢复原状。休眠要比睡眠的恢复速度来的慢一点，但好处是，正在工作中的内容可以保存下来，即使断电也不会丢失。

**如果要删除hiberfil.sys文件**，不再使用休眠功能，只需在cmd 里面打如下命令

```
Powercf -h off
```

Hibernate.sys文件就消失了。下次如果**还是想要使用休眠功能**，可以打如下命令开启

```
Powercfg -h on
```